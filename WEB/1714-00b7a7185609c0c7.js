"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1714],{21714:function(e,t,n){n.r(t),n.d(t,{__N_SSP:function(){return h},default:function(){return _path_}});var r=n(85893),l=n(67294),o=n(88767),a=n(11163),i=n(96651),s=n(75173),u=n(4480),c=n(57445),d=n(84583);let Body=e=>{let{...t}=e,{path:n="",anchor:d=null}=t,m=(0,a.useRouter)(),{preview:p,v}=m.query,h=void 0!==p,{get:y}=(0,i.Z)({isAdmin:h}),{page:g}=(0,u.sJ)(c.U7),[f,x]=(0,l.useState)(),{data:j,isFetched:b}=(0,o.useQuery)(["body",n],()=>y("/pages/path/".concat(n)),{select:e=>{let{data:t}=e;return t.item},enabled:!h}),{data:A,isFetched:S}=(0,o.useQuery)(["previewBody",n],()=>y("/page/path/".concat(n)),{select:e=>{let{data:t}=e;return t.item},enabled:h&&!v}),{data:T,isFetched:_}=(0,o.useQuery)(["versionData",null==g?void 0:g.id,v],()=>y("/page/".concat(g.id,"/history/").concat(v)),{select:e=>{let{data:t}=e;return t},enabled:!!(h&&v&&(null==g?void 0:g.id))});return(0,l.useEffect)(()=>{try{if(b){let e=null==j?void 0:j.html;x(e)}if(S){let e=null==A?void 0:A.html;x(e)}}catch(e){x(null)}},[b,S,n]),(0,l.useEffect)(()=>{if(_){let e=null==T?void 0:T.html;x(e)}},[_,T]),(0,r.jsx)(s.Z,{html:f,anchor:d})};var m=(0,d.Z)(e=>{let{...t}=e,{readAuth:n}=t;return(0,r.jsx)(r.Fragment,{children:n?(0,r.jsx)(Body,{...t}):null})}),p=n(99911),v=n(39746),h=!0,_path_=e=>{let{...t}=e,n=(0,a.useRouter)(),{path:l,anchor:o}=n.query,{seo:i}=t,s=null==i?void 0:i.metaTitle;return(0,r.jsxs)(v.Z,{...t,children:[(0,r.jsx)(p.Z,{title:s,metaData:t}),(0,r.jsx)(m,{path:l,anchor:o})]})}},84583:function(e,t,n){var r=n(85893),l=n(5133),o=n(10738),a=n(96285),i=n(48266),s=n(57445),u=n(11163),c=n(67294),d=n(88767),m=n(4480);t.Z=e=>t=>{let n=(0,u.useRouter)(),{path:y}=n.query,[g,f]=(0,c.useState)(!1),[x,j]=(0,c.useState)(!1),b=(0,c.useMemo)(()=>{try{var e;return null==n?void 0:null===(e=n.asPath)||void 0===e?void 0:e.includes("preview")}catch(e){return!1}},[y,null==n?void 0:n.asPath]),init=async()=>{await o.Z.getOrReissuePayload(),f(!0)},onChangeAuth=(e,t)=>{};(0,c.useEffect)(()=>{if(n.isReady)return init(),o.Z.subscribe(onChangeAuth),()=>o.Z.unsubscribe(onChangeAuth)},[n]);let[A,S]=(0,m.FV)(s.U7),{data:T,isFetched:_}=(0,d.useQuery)(["pages"],b?l.ec:l.UQ,{select:e=>{let{data:t}=e;return{list:null==t?void 0:t.list,common:null==t?void 0:t.common}},staleTime:6e4,cacheTime:3e5});(0,c.useEffect)(()=>{if(_){var e;let t=(null==T?void 0:T.list)||[],n=(null==T?void 0:T.common)||[],r=(0,a.xQ)(t,y),l=(null==T?void 0:null===(e=T.list)||void 0===e?void 0:e.find(e=>e.isHome))||{};S({pageList:t,commonPageList:n,page:r,path:y,home:{id:null==l?void 0:l.id,path:null==l?void 0:l.path,name:null==l?void 0:l.name}})}},[_,y]),(0,c.useEffect)(()=>{if(!n.isReady||!g||null===A.page||(0,i.Q)(A.page))return;let e=!!o.Z.getTokenPayload();if(e){if(v.includes(n.pathname)){n.push("/");return}}else{var t,r,l;let e=(null==A?void 0:null===(t=A.page)||void 0===t?void 0:t.accessPermission)==="login",o=(null==A?void 0:null===(r=A.page)||void 0===r?void 0:r.path)==="home"?["/","/home"]:["/".concat(null==A?void 0:null===(l=A.page)||void 0===l?void 0:l.path)],a=e?[...p,...o]:p;if(a.includes(y?"/".concat(y):n.pathname)){n.push("/login?returnUrl=".concat(encodeURIComponent(n.asPath)));return}}j(!0)},[n,g,A]);let k=h.includes(n.pathname);switch(!0){case k:{var Z;let n=!((null==A?void 0:null===(Z=A.page)||void 0===Z?void 0:Z.accessPermission)==="login"&&!o.Z.getTokenPayload());return(0,r.jsx)(e,{...t,readAuth:n})}case!k&&x:return(0,r.jsx)(e,{...t});default:return null}};let p=["/mypage"],v=["/login","/join","/guest/order","/guest/order/[orderNo]","/guest/claim/[orderNo]"],h=["/","/[path]"]},99911:function(e,t,n){var r=n(85893),l=n(67294),o=n(9008),a=n.n(o);t.Z=e=>{let{title:t,metaData:n}=e,{seo:o,curUrl:i,metaTagCode:s,searchAdvisorCode:u}=n,c=(0,l.useMemo)(()=>{let e=null==s?void 0:s.match(/content=(["'`])(.*?)\1/);return e?e[2]:null},[s]);return(0,r.jsxs)(a(),{children:[(0,r.jsx)("title",{children:t}),c&&(0,r.jsx)("meta",{name:"facebook-domain-verification",content:c}),(null==u?void 0:u.naver)&&(0,r.jsx)("meta",{name:"naver-site-verification",content:"".concat(null==u?void 0:u.naver)}),(null==u?void 0:u.google)&&(0,r.jsx)("meta",{name:"google-site-verification",content:"".concat(null==u?void 0:u.google)}),o&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("meta",{name:"language",content:"kr"}),(0,r.jsx)("meta",{name:"referrer",content:"always"}),(0,r.jsx)("meta",{name:"title",content:null==o?void 0:o.metaTitle}),(0,r.jsx)("meta",{name:"description",content:null==o?void 0:o.metaDescription}),(0,r.jsx)("meta",{name:"keywords",content:null==o?void 0:o.metaKeywords}),(0,r.jsx)("meta",{name:"author",content:null==o?void 0:o.metaTitle}),(0,r.jsx)("meta",{name:"robots",content:"index, follow"}),(0,r.jsx)("meta",{property:"og:site_name",content:null==o?void 0:o.siteName}),(0,r.jsx)("meta",{property:"og:type",content:"site"}),(0,r.jsx)("meta",{property:"og:url",content:i}),(0,r.jsx)("meta",{property:"og:title",content:null==o?void 0:o.metaTitle}),(0,r.jsx)("meta",{property:"og:description",content:null==o?void 0:o.metaDescription}),(0,r.jsx)("meta",{property:"og:image",content:null==o?void 0:o.metaThumbnailUrl}),o.metaTags,(0,r.jsx)("link",{rel:"shortcut icon",href:(null==o?void 0:o.faviconUrl)||"https://cdn.qshop.ai/common/images/empty_favicon.png",type:"image/x-icon"})]})]})}},39746:function(e,t,n){var r=n(85893),l=n(67294),o=n(9008),a=n.n(o),i=n(4480),s=n(57445);let u=["commerce","starter","growth"];t.Z=e=>{let{children:t,commonCode:n,bodyRef:o,footerRef:c}=e,{plan:d}=(0,i.sJ)(s.ZP),m=!u.includes(d),[p,v]=(0,l.useState)(),parseHeadTags=e=>{var t;let n=new DOMParser,r=n.parseFromString(e,"text/html"),l=(null===(t=r.head.querySelector("title"))||void 0===t?void 0:t.innerText)||"",o=Array.from(r.head.querySelectorAll("meta")).map(e=>({name:e.getAttribute("name"),property:e.getAttribute("property"),content:e.getAttribute("content")})),a=Array.from(r.head.querySelectorAll("link")).map(e=>({rel:e.getAttribute("rel"),href:e.getAttribute("href"),type:e.getAttribute("type")})),i=Array.from(r.head.querySelectorAll("style")).map(e=>e.textContent),s=Array.from(r.head.querySelectorAll("script")).map(e=>({src:e.getAttribute("src"),content:e.textContent,type:e.getAttribute("type")})),u=r.head.querySelector("base")?{href:r.head.querySelector("base").getAttribute("href"),target:r.head.querySelector("base").getAttribute("target")}:null,c=Array.from(r.head.querySelectorAll("noscript")).map(e=>e.textContent);return{title:l,metas:o,links:a,styles:i,scripts:s,base:u,noscripts:c}},appendScripts=e=>{for(let n of e){var t=document.createElement("script");n.type&&(t.type=n.type),n.src&&(t.src=n.src),n.content&&(t.innerHTML=n.content),document.body.appendChild(t)}};return(0,l.useEffect)(()=>{if(!m&&n){if(v(parseHeadTags(null==n?void 0:n.commonHeader)),(null==o?void 0:o.current)&&(null==n?void 0:n.commonBody)){o.current.innerHTML=n.commonBody;let{scripts:e}=parseHeadTags(n.commonBody);appendScripts(e)}if((null==c?void 0:c.current)&&(null==n?void 0:n.commonFooter)){c.current.innerHTML=n.commonFooter;let{scripts:e}=parseHeadTags(n.commonFooter);appendScripts(e)}}},[m,n]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(a(),{children:[(null==p?void 0:p.title)&&(0,r.jsx)("title",{children:null==p?void 0:p.title}),null==p?void 0:p.metas.map((e,t)=>(0,r.jsx)("meta",{...e.name&&{name:e.name},...e.property&&{property:e.property},content:e.content},"meta-".concat(t))),null==p?void 0:p.links.map((e,t)=>(0,r.jsx)("link",{rel:e.rel,href:e.href,...e.type&&{type:e.type}},"link-".concat(t))),null==p?void 0:p.styles.map((e,t)=>(0,r.jsx)("style",{dangerouslySetInnerHTML:{__html:e}},"style-".concat(t))),null==p?void 0:p.scripts.map((e,t)=>e.src?(0,r.jsx)("script",{src:e.src,...e.type&&{type:e.type}},"script-".concat(t)):(0,r.jsx)("script",{dangerouslySetInnerHTML:{__html:e.content},...e.type&&{type:e.type}},"script-".concat(t))),(null==p?void 0:p.base)&&(0,r.jsx)("base",{href:null==p?void 0:p.base.href,...(null==p?void 0:p.base.target)&&{target:null==p?void 0:p.base.target}}),null==p?void 0:p.noscripts.map((e,t)=>(0,r.jsx)("noscript",{dangerouslySetInnerHTML:{__html:e}},"noscript-".concat(t)))]}),t]})}}}]);