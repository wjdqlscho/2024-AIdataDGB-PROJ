"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4002],{46019:function(e,t,r){r.d(t,{$b:function(){return deleteProductReviewsById},AY:function(){return getReviewsOrderItemStatus},Ix:function(){return getReviewsOrderItemByOrderItemId},Z:function(){return putProductReviews},mk:function(){return getProductReviews},oc:function(){return postProductReviews},su:function(){return getReviewsComplete},vO:function(){return postFormProductReviewsImage},wY:function(){return getReviewsReady}});var n=r(36503),i=r(57578);let getReviewsReady=async e=>{let{data:t}=await n.Z.get("/product-reviews/my/ready",{params:e});return{data:t}},getReviewsComplete=async e=>{let{data:t}=await n.Z.get("/product-reviews/my/complete",{params:e});return{data:t}},getReviewsOrderItemStatus=async e=>{let{data:t}=await n.Z.get("/product-reviews/my/order-item/status",{params:e});return{data:t}},getReviewsOrderItemByOrderItemId=async e=>{let{data:t}=await n.Z.get("/product-reviews/my/order-item/".concat(e));return{data:t}},getProductReviews=async(e,t)=>{let{page:r,count:i}=t,{data:a}=await n.Z.get("/product-reviews/product/".concat(e),{params:{page:r,count:i}});return{data:a}},postProductReviews=async e=>{let{data:t}=await n.Z.post("/product-reviews",e);return{data:t}},deleteProductReviewsById=async e=>{let{data:t}=await n.Z.delete("/product-reviews/".concat(e));return{data:t}},putProductReviews=async(e,t)=>{let{data:r}=await n.Z.put("/product-reviews/".concat(e),t);return{data:r}},postFormProductReviewsImage=async e=>{let{data:t}=await n.Z.post("/product-reviews/image",e,i.T);return{data:t}}},87482:function(e,t,r){var n=r(82729),i=r(85893),a=r(16829),l=r(22430),s=r(94156),d=r(68239);function _templateObject(){let e=(0,n._)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n  height: 100%;\n"]);return _templateObject=function(){return e},e}t.Z=e=>{let{title:t,children:r}=e;return(0,i.jsx)(l.Z,{theme:c,children:(0,i.jsx)(o,{title:t,PopperProps:{style:{zIndex:2e5}},enterTouchDelay:0,children:r})})};let o=(0,a.Z)(s.Z)(_templateObject()),c=(0,d.Z)({components:{MuiTooltip:{styleOverrides:{tooltip:{padding:"8px 10px",marginTop:"0px !important",color:"#ffffff",fontSize:12,fontWeight:400,backgroundColor:"rgba(0, 0, 0, 0.7)",borderRadius:4}}}}})},34002:function(e,t,r){r.d(t,{Z:function(){return orderDetail_OrderDetail}});var n=r(85893),i=r(67294),a=r(5152),l=r.n(a),s=r(85930),d=r(83780),o=r(54507),c=r(18078),u=r(25616),p=r(50949),h=r(76531),m=r(11163),y=r(81004),x=r(11763),g=r(50501),f=r(31933),v=r(54810),j=r(87708),w=r(7986),orderDetail_OrderDetailList=e=>{let{item:t,orderDetail:r,handleClickByStatus:a,openDialogByStatus:l,length:c,isFirstItem:S}=e,{status:R,product:D,deliveryOption:C,deliveryGroup:{totalDeliveryPrice:I}={},claimInProgress:k,orderType:B,returns:b,cancellation:O,intangibleOrderInfo:q}=t,{isMobile:_,isDesktop:Z}=(0,s.Z)(),[P,z]=(0,i.useState)("write"),F=(0,m.useRouter)(),L=(0,i.useMemo)(()=>"/mypage"!==F.pathname,[F]),M=(0,h.li)(t),{data:G}=(0,y.mZ)({ids:[t.id]},{enabled:"confirm"===t.status&&!L});return(0,i.useEffect)(()=>{if(G){let e=G[t.id];z(e?"edit":"write")}},[G]),(0,n.jsxs)(n.Fragment,{children:[Z&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("td",{children:(0,n.jsxs)(w._S.z,{col:"90px 1fr",gap:"16px",className:"border",children:[(0,n.jsx)(v.Z,{src:D.thumbnailImageUrl,size:90}),(0,n.jsx)(x.Z,{selectData:t,isDetail:"240px"})]})}),q&&(0,n.jsx)("td",{children:(0,n.jsx)(w.Rx.tu,{gap:"8px",children:"-"})}),"delivery"===C.deliveryMethod?S&&(0,n.jsx)("td",{rowSpan:c,children:(0,n.jsxs)(w.Rx.tu,{gap:"8px",children:[(0,n.jsx)(w.Lf.xv,{children:0===I?"무료":"".concat((0,d.nz)(I)," 원")}),(0,n.jsxs)(w.Lf.xv,{style:{fontSize:12},children:["택배",C.isPrepaid?"(선불)":"(착불)"]})]})}):(0,n.jsx)("td",{children:(0,n.jsx)(w.Rx.tu,{gap:"8px",children:o.Yp[C.deliveryMethod]})}),(0,n.jsx)("td",{children:(0,n.jsxs)(w.Rx.gq,{gap:"15px",className:"detailTableLastItem",children:[(0,n.jsxs)(j.WT,{children:[(0,n.jsxs)(w.Rx.tu,{gap:"10px",children:[(0,n.jsx)(w.Lf.xv,{weight:700,children:M}),r.payment.paidDate&&(0,n.jsx)(w.Lf.xv,{style:{fontSize:12},children:(0,u.BF)(r.payment.paidDate)}),"return"===B&&(0,n.jsx)(w.Lf.y,{style:{marginTop:"0",fontSize:"12px",width:"max-content"},children:"seller"===p.yt.find(e=>e.id===t.returns.requestInfo.reasonId).response?"반품 배송비: 판매자부담":t.returns.requestInfo.isPaidReturnFee?"반품 배송비: 결제완료":"반품 배송비: 결제대기"})]}),(0,n.jsx)(f.default,{data:{...t,payment:r.payment,orderNo:r.no,orderId:r.id,receiver:r.receiver,reviewStatus:P},onClick:a,isGuest:L})]}),(0,n.jsx)("div",{children:(0,n.jsx)(g.default,{onClick:a,openDialogByStatus:l,data:{...t,payment:r.payment,orderNo:r.no,orderId:r.id,receiver:r.receiver,reviewStatus:P},isGuest:L})})]})})]}),_&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(j.im,{style:{flexDirection:"row",alignItems:"center",paddingLeft:10},children:[(0,n.jsxs)(w.Rx.hs,{gap:"8px",justify:"flex-start",children:[(0,n.jsx)(w.Lf.xv,{weight:"bold",className:"orderDate",children:M}),(0,n.jsx)(w.Lf.xv,{className:"orderDate",children:r.payment.paidDate&&(0,u.BF)(r.payment.paidDate)}),"return"===B&&(0,n.jsx)(w.Lf.y,{style:{marginTop:"0",fontSize:"12px"},children:"collected"===b.item.status||"completed"===b.item.status?"반품 배송비: 판매자부담":"return_shipping"===b.item.status?"반품 배송비: 결제완료":"반품 배송비: 결제대기"})]}),(0,n.jsx)(g.default,{onClick:a,openDialogByStatus:l,data:{...t,payment:r.payment,orderNo:r.no,orderId:r.id,receiver:r.receiver,reviewStatus:P},top:"10px",isGuest:L})]}),(0,n.jsxs)(j.j$,{children:[(0,n.jsx)(v.Z,{src:D.thumbnailImageUrl,size:60}),(0,n.jsxs)(w.Rx.tu,{gap:"16px",children:[(0,n.jsx)(x.Z,{selectData:t}),(0,n.jsx)(f.default,{data:{...t,payment:r.payment,orderNo:r.no,orderId:r.id,receiver:r.receiver},onClick:a,isGuest:L})," "]})]})]})]})},S=r(21583),R=r(59395),D=r(83668);let C=l()(Promise.all([r.e(2016),r.e(5022)]).then(r.bind(r,25022)),{loadableGenerated:{webpack:()=>[25022]}});var orderDetail_OrderDetail=e=>{var t,r;let{orderDetail:a,isGuest:l}=e,[u,h]=(0,i.useState)(),[m,y]=(0,i.useState)({}),{isMobile:x,isDesktop:g}=(0,s.Z)(),{openConfirmPopup:f}=(0,D.Z)(),handleClickByStatus=e=>{let t=a.items.some(e=>{var t;return!(null===(t=p.GF[e.status])||void 0===t?void 0:t.includes("changeShipping"))});if(t&&"changeShipping"===e.type){f({message:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("p",{children:"배송지 변경이 불가능한 주문건이"}),(0,n.jsx)("p",{children:"포함되어 있습니다."}),(0,n.jsx)(w.Lf.xv,{style:{margin:"10px 0px",color:R.$.grayscale.gray[600]},children:"*배송지 변경은 주문 건별 일괄 변경됩니다."})]})});return}let{type:r}=e;h(r),y(e)};return(0,n.jsxs)(j.c3,{children:[(0,n.jsx)(c.Z,{orderDetail:a}),(0,n.jsx)(j.zP,{children:g&&(0,n.jsxs)(j.vn,{children:[(0,n.jsx)(j.fc,{children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{children:"주문 상품정보"}),(0,n.jsx)("th",{children:"배송비"}),(0,n.jsx)("th",{children:"주문 상태"})]})}),(0,n.jsx)(j.b,{children:null==a?void 0:null===(t=a.items)||void 0===t?void 0:t.map((e,t)=>{let{deliveryOption:r,deliveryGroup:i}=e,l=!!i&&i.itemIds[0]===e.id;return(0,n.jsxs)("tr",{children:["delivery"!==r.deliveryMethod&&(0,n.jsx)(orderDetail_OrderDetailList,{item:e,orderDetail:a,handleClickByStatus:handleClickByStatus,openDialogByStatus:u}),"delivery"===r.deliveryMethod&&(0,n.jsx)(orderDetail_OrderDetailList,{item:e,orderDetail:a,handleClickByStatus:handleClickByStatus,openDialogByStatus:u,isFirstItem:l,length:l?i.itemIds.length:0})]},"allOrder-".concat(t))})})]})}),x&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(w.Ld.js,{}),(0,n.jsx)(j.iO,{children:null==a?void 0:null===(r=a.items)||void 0===r?void 0:r.map((e,t)=>{var r;let{deliveryOption:l,deliveryGroup:s}=e,c=!!s&&s.itemIds[0]===e.id,p=!!s&&s.itemIds[s.itemIds.length-1]===e.id;return(0,n.jsxs)(i.Fragment,{children:["delivery"!==l.deliveryMethod&&(0,n.jsx)(j.NZ,{style:{borderTop:c&&0===t?"1px solid black":c?"1px solid ".concat(R.$.grayscale.gray[200]):"none"},children:(0,n.jsxs)(j.AF,{children:[(0,n.jsx)(orderDetail_OrderDetailList,{item:e,orderDetail:a,handleClickByStatus:handleClickByStatus,openDialogByStatus:u}),(0,n.jsx)(w.Rx.tu,{className:"groupDelivery",children:(0,n.jsx)(w.Lf.xv,{align:"center",size:"sm",children:o.Yp[l.deliveryMethod]||"택배"})})]})}),"delivery"===l.deliveryMethod&&(0,n.jsxs)(j.NZ,{style:{borderTop:!c&&"none"},children:[(0,n.jsx)(orderDetail_OrderDetailList,{item:e,orderDetail:a,handleClickByStatus:handleClickByStatus,openDialogByStatus:u,isFirstItem:c,length:c?s.itemIds.length:0}),p&&(0,n.jsx)(j.AF,{style:{marginBottom:p&&t!==(null==a?void 0:null===(r=a.items)||void 0===r?void 0:r.length)-1?40:0},children:(0,n.jsxs)(w.Rx.gq,{className:"groupDelivery",gap:"6px",children:["delivery"===l.deliveryMethod&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(w.Lf.xv,{weight:600,color:"black",children:"배송비"}),(0,n.jsx)(w.Lf.xv,{children:0===s.totalDeliveryPrice?"무료":"".concat((0,d.nz)(s.totalDeliveryPrice)," 원")})]}),(0,n.jsxs)(w.Lf.xv,{align:"center",type:"light",children:[o.Yp[l.deliveryMethod]||"택배",l.isPrepaid?"(선불)":"(착불)"]})]})})]})]},"mobile-order-".concat(t))})})]}),(0,n.jsx)(C,{orderDetail:a}),(0,n.jsx)(S.Z,{selectData:m,openDialogByStatus:u,setOpenDialogByStatus:h,isGuest:l})]})}},50501:function(e,t,r){r.r(t),r.d(t,{default:function(){return orderLists_OrderStatusMenuSelector}});var n=r(85893),i=r(67294),a=r(11163),l=r(55819),s=r(96814),d=r(7986),o=r(87708),c=r(58559),u=r(75872),p=r(22506),h=r(59395),Popup_BottomPopup=e=>{let{handleClosePopup:t,handleConfirmPopup:r,children:l,cancelTitle:s="취소",confirmTitle:o="확인",title:m="타이틀",titleEllipsis:y=!0,isXIcon:x=!1}=e,g=(0,a.useRouter)();return(0,i.useCallback)(()=>{t?t():g.back()},[t]),(0,i.useEffect)(()=>(document.body.style.cssText="\n      position: fixed; \n      top: -".concat(window.scrollY,"px;\n      overflow-y: scroll;\n      width: 100%;"),()=>{let e=document.body.style.top;document.body.style.cssText="",window.scrollTo(0,-1*parseInt(e||"0",10))}),[]),(0,n.jsxs)(p.Np,{children:[(0,n.jsx)(p.si,{onClick:t}),(0,n.jsxs)(p.Vm,{children:[x&&(0,n.jsxs)(p.X_,{children:[(0,n.jsx)(d.Lf.DK,{weight:"600",ellipsis:y?"true":"false",children:m}),t&&(0,n.jsx)(p.gx,{onClick:t,children:(0,n.jsx)(u.b,{color:h.$.grayscale.gray[400]})})]}),(0,n.jsx)(p.dD,{children:l}),!x&&(0,n.jsxs)(p.I4,{children:[(0,n.jsx)(c.default,{role:"grayOutline",onClick:t,children:s}),(0,n.jsx)(c.default,{onClick:r,children:o})]})]})]})},Select_MuiSelect=e=>{var t;let{menuList:r,data:a,handleSelect:c,openDialogByStatus:u,anchorEl:p,setAnchorEl:h,top:m,titleEllipsis:y}=e,x=!!p;return(0,i.useEffect)(()=>{u&&h(null)},[u]),(0,n.jsxs)(o.ax,{top:m,children:[(0,n.jsx)(o.Ey,{disableRipple:!0,"aria-label":"more",id:"long-button","aria-controls":x?"long-menu":void 0,"aria-expanded":x?"true":void 0,"aria-haspopup":"true",onClick:e=>{h(e.currentTarget)},children:(0,n.jsx)(s.Z,{})}),(0,n.jsx)(o.NU,{id:"long-menu",MenuListProps:{"aria-labelledby":"long-button"},anchorEl:p,open:x,onClose:()=>{h(null)},children:r.map(e=>(0,n.jsx)(l.Z,{style:{fontSize:"14px"},selected:e.type===u,onClick:()=>c({...a,orderItemNo:a.no,type:e.type}),children:e.name},e.id))}),p&&(0,n.jsx)(o.rO,{children:(0,n.jsx)(Popup_BottomPopup,{isXIcon:!0,handleClosePopup:()=>h(!1),title:(null==a?void 0:null===(t=a.product)||void 0===t?void 0:t.name)||"",titleEllipsis:y,children:r.map((e,t)=>(0,n.jsx)(o.Zz,{onClick:()=>c({...a,orderItemNo:a.no,type:e.type}),isBorder:!0,children:(0,n.jsx)(d.Lf.xv,{children:e.name})},"status-".concat(e.id)))})})]})};let m={requested:[{id:1,name:"주문상세",type:"orderDetail"},{id:2,name:"취소철회",type:"cancelWithdraw"},{id:3,name:"취소정보",type:"cancelInfo"}],withdrawn:[{id:1,name:"주문상세",type:"orderDetail"},{id:2,name:"배송지변경",type:"changeShipping"},{id:3,name:"취소정보",type:"cancelInfo"}],completed:[{id:1,name:"주문상세",type:"orderDetail"},{id:2,name:"취소정보",type:"cancelInfo"}],approved:[{id:1,name:"주문상세",type:"orderDetail"},{id:2,name:"취소정보",type:"cancelInfo"}]},y=[{id:1,name:"주문상세",type:"orderDetail"},{id:2,name:"반품철회",type:"returnWithdraw"},{id:3,name:"반품정보",type:"returnInfo"},{id:4,name:"배송조회",type:"searchShipping"},{id:5,name:"반송조회",type:"searchReturnShipping"}],x=[{id:1,name:"주문상세",type:"orderDetail"},{id:2,name:"반품정보",type:"returnInfo"},{id:3,name:"배송조회",type:"searchShipping"},{id:4,name:"반송조회",type:"searchReturnShipping"}],g={requested:y,return_shipping:y,collected:y,hold:y,approved:x,completed:x},f=[{id:1,name:"주문상세",type:"orderDetail"},{id:2,name:"배송지 변경",type:"changeShipping"},{id:3,name:"취소요청",type:"cancelRequest"}],v={unpaid:f,deposit_check_delayed:f,paid:f,shipping_ready:[{id:1,name:"주문상세",type:"orderDetail"},{id:2,name:"취소요청",type:"cancelRequest"}],shipping_delayed:[{id:1,name:"주문상세",type:"orderDetail"},{id:2,name:"지연사유 확인",type:"checkDelayReason"},{id:3,name:"배송지 변경",type:"changeShipping"},{id:4,name:"취소요청",type:"cancelRequest"}],shipping:[{id:1,name:"주문상세",type:"orderDetail"},{id:2,name:"구매확정",type:"confirmOrder"},{id:3,name:"배송조회",type:"searchShipping"},{id:4,name:"반품요청",type:"returnRequest"}],complete:[{id:1,name:"주문상세",type:"orderDetail"},{id:2,name:"구매확정",type:"confirmOrder"},{id:3,name:"배송조회",type:"searchShipping"},{id:4,name:"반품요청",type:"returnRequest"}],confirm:[{id:1,name:"주문상세",type:"orderDetail"},{id:2,name:"리뷰작성",type:"writeReview"},{id:3,name:"배송조회",type:"searchShipping"}],requested:[{id:1,name:"주문상세",type:"orderDetail"},{id:2,name:"취소정보",type:"cancelInfo"},{id:3,name:"취소철회",type:"cancelWithdraw"}],approved:[{id:1,name:"주문상세",type:"orderDetail"},{id:2,name:"취소정보",type:"cancelInfo"}],completed:[{id:1,name:"주문상세",type:"orderDetail"},{id:2,name:"취소정보",type:"cancelInfo"}],cancellation_before_deposit:[{id:1,name:"취소사유확인",type:"checkCancelBeforeDepositReason"}]},j={...v,unpaid:[{id:1,name:"주문상세",type:"orderDetail"},{id:3,name:"취소요청",type:"cancelRequest"}],complete:[{id:1,name:"주문상세",type:"orderDetail"},{id:2,name:"구매확정",type:"confirmOrder"},{id:3,name:"취소요청",type:"cancelRequest"}]};var orderLists_OrderStatusMenuSelector=e=>{var t;let{data:r,openDialogByStatus:l,onClick:s,top:d,isGuest:o}=e,{orderType:c,orderId:u,id:p,cancellation:h,returns:y,shipping:x,intangibleOrderInfo:f}=r,[w,S]=(0,i.useState)(null),R=(0,a.useRouter)(),{orderNo:D,phone:C}=R.query,I=!!(null===(t=R.query)||void 0===t?void 0:t["order-detail"])||R.pathname.startsWith("/guest/order/"),k=(0,i.useMemo)(()=>"cancel"===c?m[h.item.status]:"return"===c?g[y.item.status]:f?j[r.status]:v[r.status],[r]),B=(0,i.useMemo)(()=>{var e,t,n;let i=[...k];return x&&(null==x?void 0:x.deliveryMethod)==="delivery"||(i=i.filter(e=>"searchShipping"!==e.type)),"return"===c&&("requested"!==y.item.status||y.requestInfo.directDeliveryInfo&&(null===(e=y.requestInfo.directDeliveryInfo)||void 0===e?void 0:e.deliveryMethod)==="delivery"||(i=i.filter(e=>"searchReturnShipping"!==e.type)),"delivery"!==y.item.deliveryMethod&&(i=i.filter(e=>"searchReturnShipping"!==e.type))),I&&(i=i.filter(e=>"orderDetail"!==e.type)),"cancel"!==c&&h&&(i=[...i=i.filter(e=>"cancelRequest"!==e.type),{id:((null===(t=i[i.length-1])||void 0===t?void 0:t.id)||0)+1,name:"취소정보",type:"cancelInfo"}]),"return"!==c&&y&&(i=[...i=i.filter(e=>"returnRequest"!==e.type),{id:((null===(n=i[i.length-1])||void 0===n?void 0:n.id)||0)+1,name:"반품정보",type:"returnInfo"}]),o&&(i=i.filter(e=>o&&!["editReview","writeReview"].includes(e.type))),(null==r?void 0:r.reviewStatus)==="edit"&&(i=i.map(e=>"writeReview"===e.type?{...e,name:"리뷰수정",type:"editReview"}:e)),i},[r,k]);return(0,i.useEffect)(()=>{l&&S(null)},[l]),(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(Select_MuiSelect,{menuList:B,data:r,handleSelect:e=>"orderDetail"===e.type?R.push("/mypage?order-detail=".concat(u)):"cancelRequest"===e.type?o?R.push("/guest/claim/".concat(D,"?phone=").concat(C,"&type=cancel&item=").concat(p)):R.push("/mypage?claim-request&cancel=".concat(u,"&item=").concat(p)):"returnRequest"===e.type?o?R.push("/guest/claim/".concat(D,"?phone=").concat(C,"&type=return&item=").concat(p)):R.push("/mypage?claim-request&return=".concat(u,"&item=").concat(p)):void("confirmOrder"===e.type&&S(null),s(e),S(null)),openDialogByStatus:l,anchorEl:w,setAnchorEl:S,top:d})})}},31933:function(e,t,r){r.r(t),r.d(t,{default:function(){return orderStatusButtons_OrderStatusButtons}});var n=r(85893),i=r(67294),a=r(87708),l=r(50949),s=r(11163),d=r(58559),o=r(87482),c=r(88767),u=r(35070),p=r(83668),h=r(42738),m=r(94525);let CancelRequestButton=e=>{let{hasCancel:t,orderId:r,isGuest:i,id:a}=e,l=(0,s.useRouter)(),{orderNo:c,phone:u}=l.query;return(0,n.jsx)(d.default,{role:"grayOutline",size:"m",disabled:t,onClick:()=>{if(i){l.push("/guest/claim/".concat(c,"?phone=").concat(u,"&type=cancel&item=").concat(a));return}l.push("/mypage?claim-request&cancel=".concat(r,"&item=").concat(a))},children:t?(0,n.jsx)(o.Z,{title:"취소/반품은 주문 건당 1번만 가능합니다.",children:(0,n.jsx)("span",{children:"취소요청"})}):"취소요청"})},ReturnRequestButton=e=>{let{hasReturn:t,orderId:r,isGuest:i,id:a}=e,l=(0,s.useRouter)(),{orderNo:c,phone:u}=l.query;return(0,n.jsx)(d.default,{role:"grayOutline",size:"m",disabled:t,onClick:()=>{if(i){l.push("/guest/claim/".concat(c,"?phone=").concat(u,"&type=return&item=").concat(a));return}l.push("/mypage?claim-request&return=".concat(r,"&item=").concat(a))},children:t?(0,n.jsx)(o.Z,{title:"취소/반품은 주문 건당 1번만 가능합니다.",children:(0,n.jsx)("span",{children:"반품요청"})}):"반품요청"})},ChangeShippingButton=e=>{let{data:t,onClick:r}=e;return(0,n.jsx)(d.default,{role:"grayOutline",size:"m",onClick:()=>r({...t,type:"changeShipping"}),children:"배송지변경"})},SearchShippingButton=e=>{let{data:t,onClick:r}=e;return(0,n.jsx)(d.default,{role:"grayOutline",size:"m",onClick:()=>r({...t,type:"searchShipping"}),children:"배송조회"})},DelayReasonButton=e=>{let{data:t,onClick:r}=e;return(0,n.jsx)(d.default,{size:"m",role:"solid",onClick:()=>r({...t,type:"checkDelayReason"}),children:"지연사유확인"})},CancelBeforeDepositReasonButton=e=>{let{data:t,onClick:r}=e;return(0,n.jsx)(d.default,{size:"m",onClick:()=>r({...t,type:"checkCancelBeforeDepositReason"}),children:"취소사유확인"})},ConfirmOrderButton=e=>{let{data:t,onClick:r}=e;return(0,n.jsx)(d.default,{size:"m",role:"solid",onClick:()=>r({...t,orderItemNo:t.no,type:"confirmOrder"}),children:"구매확정"})},WriteReviewButton=e=>{let{data:t,onClick:r}=e;return(0,n.jsx)(d.default,{size:"m",role:"solid",onClick:()=>r({...t,type:"writeReview"}),children:"리뷰작성"})},EditReviewButton=e=>{let{data:t,onClick:r}=e;return(0,n.jsx)(d.default,{size:"m",role:"grayOutline",onClick:()=>r({...t,type:"editReview"}),children:"리뷰수정"})},WithdrawCancelButton=e=>{let{data:t,onClick:r}=e;return(0,n.jsx)(d.default,{size:"m",role:"solid",onClick:()=>r({...t,type:"cancelWithdraw"}),children:"취소철회"})},CancelInfoButton=e=>{let{data:t,onClick:r}=e;return(0,n.jsx)(d.default,{role:"grayOutline",size:"m",onClick:()=>r({...t,type:"cancelInfo"}),children:"취소정보"})},WithdrawReturnButton=e=>{let{data:t,onClick:r}=e;return(0,n.jsx)(d.default,{size:"m",role:"solid",onClick:()=>r({...t,type:"returnWithdraw"}),children:"반품철회"})},ReturnInfoButton=e=>{let{data:t,onClick:r}=e;return(0,n.jsx)(d.default,{role:"grayOutline",size:"m",onClick:()=>r({...t,type:"returnInfo"}),children:"반품정보"})},SearchReturnShippingButton=e=>{let{data:t,onClick:r}=e;return(0,n.jsx)(d.default,{role:"grayOutline",size:"m",onClick:()=>r({...t,type:"searchReturnShipping"}),children:"반송조회"})},y={link:"링크확인",input:"정보확인",upload:"다운로드"},IntangibleOrderInfoButton=e=>{let{intangibleOrderInfo:t,id:r}=e,{orderType:a,downloadCount:l,downloadableCount:s,expiredDate:o,isUnlimitedDownloadCount:x}=t,{handleApiError:g}=(0,m.Z)(),{openConfirmPopup:f}=(0,p.Z)(),v=(0,c.useQueryClient)(),{mutate:j}=(0,c.useMutation)(u.Qk,{onSuccess:e=>{window.open(e.preSignedUrl,"_blank"),v.invalidateQueries([h.yH]),v.invalidateQueries([h.pn])},onError:e=>{g(e)}}),{mutate:w}=(0,c.useMutation)(u.IG,{onSuccess:e=>{f({message:"link"===a?(0,n.jsx)("a",{href:e.textValue,target:"_blank",children:e.textValue}):e.textValue})},onError:e=>{g(e)}}),S=(0,i.useMemo)(()=>{if("upload"!==a)return!1;if(o){let e=new Date(o),t=new Date;if(e<t)return!0}return!x&&Math.min(l,s)===s},[t]);return(0,n.jsx)(d.default,{role:"grayOutline",size:"m",disabled:S,onClick:()=>{if("upload"===a){j(r);return}w(r)},children:y[a]})};var OrderButtons=e=>{var t;let{data:r,onClick:i,isGuest:a}=e,{status:s,reviewStatus:d,cancellation:o,returns:c,orderId:u,id:p,intangibleOrderInfo:h}=r,isShow=(e,t)=>h?l.ft[e].includes(t):l.GF[e].includes(t);return(0,n.jsxs)(n.Fragment,{children:[isShow(s,"confirmOrder")&&(0,n.jsx)(ConfirmOrderButton,{data:r,onClick:i}),isShow(s,"changeShipping")&&(0,n.jsx)(ChangeShippingButton,{data:r,onClick:i}),isShow(s,"cancelRequest")&&(0,n.jsx)(CancelRequestButton,{hasCancel:!!o,orderId:u,isGuest:a,id:p}),isShow(s,"delayReason")&&(0,n.jsx)(DelayReasonButton,{data:r,onClick:i}),isShow(s,"cancelBeforeDepositReason")&&(0,n.jsx)(CancelBeforeDepositReasonButton,{data:r,onClick:i}),isShow(s,"writeReview")&&"write"===d&&!a&&(0,n.jsx)(WriteReviewButton,{data:r,onClick:i}),isShow(s,"editReview")&&"edit"===d&&!a&&(0,n.jsx)(EditReviewButton,{data:r,onClick:i}),isShow(s,"searchShipping")&&(null==r?void 0:null===(t=r.shipping)||void 0===t?void 0:t.invoiceNumber)&&(0,n.jsx)(SearchShippingButton,{data:r,onClick:i}),isShow(s,"returnRequest")&&(0,n.jsx)(ReturnRequestButton,{hasReturn:!!c,orderId:u,isGuest:a,id:p}),h&&"unpaid"!==s&&"cancellation_before_deposit"!==s&&(0,n.jsx)(IntangibleOrderInfoButton,{intangibleOrderInfo:h,id:p})]})},orderStatusButtons_CancelButtons=e=>{let{data:t,onClick:r}=e,{cancellation:i}=t,a=i.item.status;if("requested"!==a&&"approved"!==a&&"completed"!==a)return;let isShow=(e,t)=>l.kC[e].includes(t);return(0,n.jsxs)(n.Fragment,{children:[isShow(a,"withdrawnCancel")&&(0,n.jsx)(WithdrawCancelButton,{data:t,onClick:r}),isShow(a,"cancelInfo")&&(0,n.jsx)(CancelInfoButton,{data:t,onClick:r})]})},orderStatusButtons_ReturnButtons=e=>{let{data:t,onClick:r}=e,{returns:i}=t,{requestInfo:a,item:s}=i,{returnMethod:d,directDeliveryInfo:o}=a,c=s.status,isShow=(e,t)=>l.z3[e].includes(t);return(0,n.jsxs)(n.Fragment,{children:[isShow(c,"withdrawnReturn")&&(0,n.jsx)(WithdrawReturnButton,{data:t,onClick:r}),isShow(c,"returnInfo")&&(0,n.jsx)(ReturnInfoButton,{data:t,onClick:r}),isShow(c,"searchReturnShipping")&&(0,n.jsxs)(n.Fragment,{children:["direct_delivery"===d&&(null==o?void 0:o.deliveryMethod)==="delivery"&&(0,n.jsx)(SearchReturnShippingButton,{data:t,onClick:r}),"designated"===d&&s.invoiceNumber&&(0,n.jsx)(SearchReturnShippingButton,{data:t,onClick:r})]})]})},orderStatusButtons_OrderStatusButtons=e=>{let{data:t,onClick:r,isGuest:i}=e,{orderType:l}=t;return(0,n.jsxs)(a.RG,{children:["order"===l&&(0,n.jsx)(OrderButtons,{data:t,onClick:r,isGuest:i}),"cancel"===l&&(0,n.jsx)(orderStatusButtons_CancelButtons,{data:t,onClick:r}),"return"===l&&(0,n.jsx)(orderStatusButtons_ReturnButtons,{data:t,onClick:r})]})}},21583:function(e,t,r){r.d(t,{Z:function(){return orderStatusDialog_OrderStatusDialog}});var n=r(85893),i=r(5152),a=r.n(i),l=r(67294),s=r(11163),d=r(19409),o=r(81004),c=r(87219),u=r(74150),p=r(87536),h=r(84749),m=r(66952),y=r(58559),x=r(16135),g=r(99996),f=r(86412),v=r(47171),j=r(43558),w=r(54507),S=r(70553),R=r(47182),D=r(7986),address_GuestAddressForm=()=>{let[e,t]=(0,l.useState)(!1),[r,i]=(0,l.useState)(!1),{setValue:a,watch:s,control:d,clearErrors:o,setError:c,getValues:u,formState:{errors:h}}=(0,p.Gc)();return(0,n.jsxs)(S.oK,{children:[(0,n.jsx)(S.cJ,{children:(0,n.jsx)(g.Z,{value:"recipient",placeholder:"이름을 입력해 주세요.",required:"이름을 입력해주세요.",label:"이름",maxLength:10})}),(0,n.jsx)(S.cJ,{children:(0,n.jsx)(f.Z,{value:"cellPhone",onChange:e=>a("cellPhone",e.target.value.replace(/[^0-9-]/g,"")),onBlur:e=>a("cellPhone",e.target.value.replaceAll("-",""),{shouldDirty:!0}),maxLength:13,isRequired:!0,requiredMsg:"휴대전화 번호를 입력해 주세요.",label:"휴대전화 번호"})}),(0,n.jsx)(S.cJ,{children:(0,n.jsx)(f.Z,{value:"telephone",onChange:e=>a("telephone",e.target.value.replace(/[^0-9-]/g,"")),onBlur:e=>a("telephone",e.target.value.replaceAll("-",""),{shouldDirty:!0}),maxLength:13,label:"전화번호"})}),(0,n.jsxs)(S.cJ,{style:{height:"100%"},children:[(0,n.jsx)(R.rJ,{children:(0,n.jsx)(j.Z,{label:"주소",isRequired:!0})}),(0,n.jsxs)(D.Rx.tu,{gap:"10px",children:[(0,n.jsxs)(D._S.z,{col:"1fr 100px",mobileCol:"1fr 115px",gap:"8px",children:[(0,n.jsx)(f.Z,{placeholder:"우편번호",value:"zipcode",isRequired:!0,readOnly:!0}),(0,n.jsx)(y.default,{size:"sm",onClick:()=>{t(!0),o("zipcode")},children:"주소찾기"}),e&&(0,n.jsx)(x.default,{onSubmit:e=>{let{address:t,zonecode:r}=e;a("zipcode",r,{shouldValidate:!0}),a("address1",t,{shouldValidate:!0}),a("address2",""),c("address2",{types:"focus",message:"상세주소를 입력해 주세요."},{shouldFocus:!0})},showPostCodeDialog:t})]}),(0,n.jsx)(f.Z,{placeholder:"주소",value:"address1",readOnly:!0,isRequired:!0}),(0,n.jsx)(f.Z,{errFocus:h.address1||h.address2,placeholder:"상세주소를 입력해 주세요.",value:"address2",isRequired:!0,style:{height:"34px"},maxLength:40,validateFunc:e=>e.length<=40||"상세 주소는 최대 40자 입니다."})]})]}),(0,n.jsxs)(S.cJ,{style:{height:"100%"},children:[(0,n.jsx)(j.Z,{label:"배송 메모"}),(0,n.jsxs)(D.Rx.tu,{align:"stretch",gap:"10px",children:[(0,n.jsx)("div",{children:(0,n.jsx)(p.Qr,{control:d,name:"memo",render:e=>{let{field:{onChange:t}}=e,r=w.QV.findIndex(e=>e.name===u().memo);return(0,n.jsx)(v.default,{items:w.QV,isInitial:!1,keyName:"name",placeholder:"배송시 요청사항을 선택해 주세요.",idx:r<0?0:r,style:{fontSize:12},onChange:e=>{t("write"===e.type?u().memo:e.name),i("write"===e.type)}})},rules:{required:!1}})}),r&&(0,n.jsx)(g.Z,{value:"memo",maxLength:40,required:!1,placeholder:"배송 메시지를 입력해 주세요. (최대 40자)"})]})]})]})},address_ChangeGuestOrderAddress=e=>{let{handleApplyAddress:t,onClose:r}=e,i=(0,s.useRouter)(),{phone:a}=i.query,l=(0,p.cI)({mode:"onChange",defaultValues:{...h.R,guestPhone:a}}),{handleSubmit:d}=l;return(0,n.jsx)(m.Z,{title:"배송지 변경",customWidth:400,handleClosePopup:()=>r(),confirmTitle:"배송지 변경하기",cancelTitle:"닫기",handleConfirmPopup:()=>d(t)(),children:(0,n.jsx)(p.RV,{...l,children:(0,n.jsx)(address_GuestAddressForm,{})})})},orderDialogs_CheckDelayDialog=e=>{let{setOpenDialogByStatus:t,selectData:r,isGuest:i}=e,a=(0,s.useRouter)(),{orderNo:l,phone:d}=a.query;return(0,n.jsx)(m.Z,{cancelTitle:"닫기",title:"지연사유",confirmTitle:"취소요청",handleClosePopup:()=>t(!1),handleBackPopup:()=>t(!1),handleConfirmPopup:()=>i?a.push("/guest/claim/".concat(l,"?phone=").concat(d,"&type=cancel&item=").concat(r.id)):a.push("/mypage?claim-request&cancel=".concat(r.orderId,"&item=").concat(r.id)),children:(0,n.jsx)("div",{style:{minHeight:"100px"},children:(0,n.jsx)(D.Lf.xv,{line:"24px",children:r.shippingDelay.reason})})})};let C=a()(r.e(2507).then(r.bind(r,92507)),{loadableGenerated:{webpack:()=>[92507]}}),I=a()(r.e(6).then(r.bind(r,10006)),{loadableGenerated:{webpack:()=>[10006]}}),k=a()(r.e(26).then(r.bind(r,40026)),{loadableGenerated:{webpack:()=>[40026]}}),B=a()(r.e(6292).then(r.bind(r,46292)),{loadableGenerated:{webpack:()=>[46292]}}),b=a()(r.e(5551).then(r.bind(r,65551)),{loadableGenerated:{webpack:()=>[65551]}}),O=a()(r.e(2832).then(r.bind(r,2832)),{loadableGenerated:{webpack:()=>[2832]}});var orderStatusDialog_OrderStatusDialog=e=>{let{openDialogByStatus:t,selectData:r,setOpenDialogByStatus:i,isGuest:a}=e,p=(0,s.useRouter)(),{data:h}=(0,o.Io)({orderItemId:null==r?void 0:r.id},{enabled:r&&"editReview"===t}),handleCloseDialog=()=>{i(!1)},m=(0,d._t)({onSuccess:handleCloseDialog,params:{orderId:r.orderId,isGuest:a}}),y=(0,d.By)({onSuccess:handleCloseDialog,params:{orderItemId:r.id,phone:a&&p.query.phone}}),handleApplyAddress=e=>{let t={...e,name:e.recipient,phone:e.cellPhone,tel:e.telephone||"",deliveryMemo:e.memo||""};m.mutate(t)},x=(0,l.useMemo)(()=>{if("searchReturnShipping"!==t)return null;let e=r.returns,n=e.requestInfo,i=null==e?void 0:e.item,a="direct_delivery"===n.returnMethod?n.directDeliveryInfo:i;return a},[r]);return(0,n.jsxs)(n.Fragment,{children:["changeShipping"===t&&a&&(0,n.jsx)(address_ChangeGuestOrderAddress,{onClose:()=>i(!1),handleApplyAddress:handleApplyAddress}),"changeShipping"===t&&!a&&(0,n.jsx)(c.Z,{title:"배송지 변경",onClose:()=>i(!1),handleApplyAddress:handleApplyAddress,isShippingList:!0}),"checkDelayReason"===t&&(0,n.jsx)(orderDialogs_CheckDelayDialog,{setOpenDialogByStatus:i,selectData:r,isGuest:a}),"checkCancelBeforeDepositReason"===t&&(0,n.jsx)(C,{setOpenDialogByStatus:i,selectData:r,isGuest:a}),"searchShipping"===t&&(0,n.jsx)(O,{showDialog:i,shippingInfo:r.shipping}),"confirmOrder"===t&&(0,n.jsx)(u.default,{confirmText:"구매 확정하기",handleClosePopup:()=>i(!1),handleConfirmPopup:()=>y.mutate(),children:"구매확정된 상품은 반품이 불가합니다.\n상품을 구매 확정하시겠습니까?"}),"searchReturnShipping"===t&&(0,n.jsx)(O,{showDialog:i,shippingInfo:"searchShipping"===t?r.shipping:x}),"writeReview"===t&&(0,n.jsx)(b,{onClose:()=>i(!1),item:{order:{id:r.id,no:r.no,orderItem:{...r}},product:{...r.product,thumbnail:{url:r.product.thumbnailImageUrl}}}}),"editReview"===t&&h&&(0,n.jsx)(b,{onClose:()=>i(!1),item:h}),("cancelWithdraw"===t||"returnWithdraw"===t||"exchangeWithdraw"===t)&&(0,n.jsx)(I,{showDialog:i,requestType:t,orderId:r.orderId,orderItemId:r.id,isGuest:a}),"cancelInfo"===t&&(0,n.jsx)(k,{showDialog:i,selectData:r}),"returnInfo"===t&&(0,n.jsx)(B,{showDialog:i,selectData:r})]})}},81004:function(e,t,r){r.d(t,{Io:function(){return useReviewDetailByOrderItemIdQuery},SU:function(){return useReviewReadyQuery},SZ:function(){return useProductReviewsQuery},mZ:function(){return useReviewOrderItemStatusQuery},oc:function(){return useReviewCompleteQuery}});var n=r(46019),i=r(42738),a=r(88767);let useReviewOrderItemStatusQuery=(e,t)=>{let{ids:r}=e,l=(0,a.useQuery)({queryKey:[i.vs,r],queryFn:()=>(0,n.AY)({ids:r}),select:e=>e.data,...t});return l},useReviewDetailByOrderItemIdQuery=(e,t)=>{let{orderItemId:r}=e,l=(0,a.useQuery)({queryKey:[i.VQ,r],queryFn:()=>(0,n.Ix)(r),select:e=>e.data,...t});return l},useReviewReadyQuery=(e,t)=>{let{page:r,count:l}=e,s=(0,a.useQuery)({queryKey:[i.r8,r,l],queryFn:()=>(0,n.wY)({page:r,count:l}),select:e=>e.data,...t});return s},useReviewCompleteQuery=(e,t)=>{let{page:r,count:l}=e,s=(0,a.useQuery)({queryKey:[i.xM,r,l],queryFn:()=>(0,n.su)({page:r,count:l}),select:e=>e.data,...t});return s},useProductReviewsQuery=(e,t)=>{let{productId:r,page:l,count:s}=e,d=(0,a.useQuery)({queryKey:[i.r6,r,l,s],queryFn:()=>(0,n.mk)(r,{page:l,count:s}),select:e=>e.data,...t});return d}}}]);